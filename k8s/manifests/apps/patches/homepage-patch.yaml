apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: homepage
  namespace: homepage
spec:
  # https://github.com/jameswynn/helm-charts/blob/main/charts/homepage/values.yaml
  # Icons:
  # https://github.com/walkxcode/dashboard-icons No prefix
  # https://pictogrammers.com/library/mdi/ Prefix with mdi-
  # https://simpleicons.org/ Prefix with si-
  values:
    image:
      repository: ghcr.io/gethomepage/homepage
      tag: v0.8.13
    ingress:
      main:
        annotations:
          traefik.ingress.kubernetes.io/router.middlewares: traefik-traefik-forward-auth@kubernetescrd
    config:
      widgets:
        - resources:
            backend: kubernetes
            expanded: true
            cpu: true
            memory: true
        - search:
            provider: google
            target: _blank
        - kubernetes:
            cluster:
              show: true
              cpu: true
              memory: true
              showLabel: true
              label: "cluster"
            nodes:
              show: true
              cpu: true
              memory: true
              showLabel: true
        - longhorn:
            expanded: true
            total: true
            labels: true
            nodes: true
        - unifi_console:
            url: http://192.168.1.1:443
            username: devantler
            password: ${unifi_password}
        - datetime:
            text_size: xl
            format:
              timeStyle: short
      services:
        - Websites:
            - GitHub Pages:
                - icon: github
                  href: https://${cluster_domain}
        - Networking:
            - Cloudflare:
                icon: cloudflare
                href: https://cloudflare.${cluster_domain}
                description: Central hub for managing public networking, e.g. FQDN, DNS and remote tunneling.
            - UniFi:
                icon: unifi
                href: https://unifi.ui.com
                description: Central hub for managing on-prem UniFi network infrastructure.
        - Provisioning:
            - Omni:
                icon: si-talos-#FF7300
                href: https://omni.${cluster_domain}
                description: Platform for provisioning and managing Talos Linux clusters.
        - Storage:
            - Longhorn:
                icon: longhorn
                href: https://longhorn.${cluster_domain}
                description: Cloud-native storage.
            - Harbor:
                icon: harbor
                href: https://harbor.${cluster_domain}
                description: Cloud-native Container Registry.
        - Monitoring:
            - Cilium Hubble:
                icon: cilium
                href: https://hubble-ui.${cluster_domain}
                description: Observability for Cilium, a high-performance Container Network Interface (CNI).
            - Goldilocks:
                icon: mdi-white-balance-sunny
                href: https://goldilocks.${cluster_domain}
                description: Dashboard for automated vertical pod autoscaling recommendations.
            - Traefik:
                icon: traefik
                href: https://traefik.${cluster_domain}
                description: Dashboard for Reverse Proxy.
                widget:
                  type: traefik
                  url: https://traefik.traefik:8443
      bookmarks:
        - News:
            - GitHub Blog:
                - icon: github
                  href: https://github.blog
            - CNCF Blog:
                - icon: si-cncf-#231F20
                  href: https://www.cncf.io/blog
            - OpenAI Blog:
                - icon: openai
                  href: https://openai.com/blog
        - Releases:
            - VSCode Releases:
        - Development:
            - GitHub:
                - icon: github
                  href: https://github.com
            - Renovate:
                - icon: si-renovatebot-#1A1F6C
                  href: https://developer.mend.io
                - icon: vscode
                  href: https://code.visualstudio.com/updates
      providers:
        longhorn:
          url: http://longhorn.devantler.com
