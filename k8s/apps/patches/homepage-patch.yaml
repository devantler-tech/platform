apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
  name: homepage
  namespace: homepage
spec:
  # https://github.com/jameswynn/helm-charts/blob/main/charts/homepage/values.yaml
  # Icons:
  # https://github.com/walkxcode/dashboard-icons No prefix
  # https://pictogrammers.com/library/mdi/ Prefix with mdi-
  # https://simpleicons.org/ Prefix with si-
  values:
    image:
      repository: ghcr.io/gethomepage/homepage
      tag: v0.8.13
    ingress:
      main:
        annotations:
          traefik.ingress.kubernetes.io/router.middlewares: traefik-traefik-forward-auth@kubernetescrd
    config:
      widgets:
        - resources:
            backend: kubernetes
            expanded: true
            cpu: true
            memory: true
        - search:
            provider: google
            target: _blank
        - kubernetes:
            cluster:
              show: true
              cpu: true
              memory: true
              showLabel: true
              label: "cluster"
            nodes:
              show: true
              cpu: true
              memory: true
              showLabel: true
      services:
        - Networking:
            - UniFi:
                icon: unifi
                href: https://unifi.ui.com
                description: A central hub for all things related to my physical UniFi network infrastructure.
            - Cloudflare:
                icon: cloudflare
                href: https://dash.cloudflare.com
                description: A central hub for managing my domain names, DNS records, and other network-related services.
        - Management:
            - Omni:
                icon: si-talos-#FF7300
                href: https://devantler.omni.siderolabs.io
                description: A management platform for provisioning and managing Talos Linux clusters.
        - Monitoring:
            - Traefik:
                icon: traefik
                href: https://traefik.${cluster_domain}
                description: A simple dashboard that shows the current active routes handled by Traefik.
            - Cilium Hubble:
                icon: cilium
                href: https://hubble-ui.${cluster_domain}
                description: A simple dashboard that shows the current active routes handled by Cilium.
      bookmarks:
        - Personal:
            - GitHub Pages:
                - icon: github
                  href: https://${cluster_domain}
        - Development:
            - GitHub:
                - icon: github
                  href: https://github.com
            - Renovate:
                - icon: si-renovatebot-#1A1F6C
                  href: https://developer.mend.io
